<div id="rules-edit">
    <div class="tbl">
        <div class="row">
            <div class="desc">Описание</div><div class="cont"><input type="text" ng-model="desc"></div>
        </div>

    </div>
    <div class="options-wrap">
        <div class="settings-wrap">
            <div class="opt-desc">Объект</div>
            <div class="select">
                <div class="item" ng-click="selectObject(true)" ng-class="{true: 'selected', false: 'not-selected'}[selectUsers]">Пользователи</div>
                <div class="item" ng-click="selectObject(false)" ng-class="{true: 'selected', false: 'not-selected'}[!selectUsers]">Группы</div>
            </div>
            <div>
                <div class="dropdown-wrap" ng-show="selectUsers"><dropdown placeholder="Выберите" list="users" property="id" selected="userSelected"></dropdown></div>
                <div class="dropdown-wrap" ng-show="!selectUsers"><dropdown placeholder="Выберите" list="groups" property="name" selected="groupSelected"></dropdown></div>
            </div>
            <div class="opt-desc">Операции</div>
            <div class="dropdown-wrap"><dropdown placeholder="Выберите" list="operations" property="text" selected="operationSelected"></dropdown></div>
        </div>
        <div class="add-opt link" ng-click="addOption()">Добавить</div>
        <div class="option" ng-repeat="action in actions">
            <div>{{action.object}}</div>
            <div>{{action.operation}}</div>
            <div class="link" ng-click="removeOption($index)">Удалить</div>
        </div>
    </div>
    <div class="btn-bar">
        <div button func="saveSettings" text="Сохранить" loading="true"></div>
        <div button ng-show="createMode" func="deleteRule" text="Удалить" clazz="remove"></div>
    </div>
</div>

<script type="text/ng-template" id="dropdown-control">
    <div class="dropdown-container" ng-class="{ show: listVisible }">
        <div class="dropdown-display" ng-click="show();" ng-class="{ clicked: listVisible }">
            <span ng-if="!isPlaceholder">{{display}}</span>
            <span class="placeholder" ng-if="isPlaceholder">{{placeholder}}</span>
            <i class="fa fa-angle-down"></i>
        </div>
        <div class="dropdown-list">
            <div>
                <div ng-repeat="item in list" ng-click="select(item)" ng-class="{ selected: isSelected(item) }">
                    <span>{{property !== undefined ? item[property] : item}}</span>
                    <i class="fa fa-check"></i>
                </div>
            </div>
        </div>
    </div>
</script>